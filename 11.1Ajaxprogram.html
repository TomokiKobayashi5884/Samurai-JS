<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <title>Ajaxプログラムの作り方</title>
    </head>
    <body>
       <h1>JavaScript関連のリポジトリ総数 by GitHub</h1>
       <button id="btn">更新</button>
      
       
       <script>
           
           const url = 'https://api.github.com/search/repositories?q=javascript';
           const btn = document.getElementById("btn");
           
           const h2 = document.createElement('h2');
           
           
           const createText = data => {
               
               h2.textContent = 'リポジトリの総数は、' + data.total_count + '件です'; 
               document.body.appendChild(h2);
               
           };
           
           
           btn.addEventListener('click', () => {
               h2.innerHTML = '';
               
               fetch(url)
               .then(data => data.json())
               .then(data => createText(data))
               
               
               
           })
           
           
               
     
       </script>
    </body>
</html>